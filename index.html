<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>YouGenerator — Random YouTube Video Finder</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
  body {
    font-family: Inter, sans-serif;
    background: #f2f2f7;
    margin: 0;
    padding: 20px;
    color: #111;
    display: flex;
    justify-content: center;
  }

  .container {
    background: #fff;
    max-width: 900px;
    width: 100%;
    padding: 20px 28px;
    border-radius: 14px;
    box-shadow: 0 8px 18px rgba(0,0,0,0.07);
  }

  #titleImage {
    width: 100%;
    max-width: 320px;
    display: block;
    margin: 0 auto 10px auto;
  }

  #description {
    font-size: 13px;
    line-height: 1.4;
    color: #333;
    margin-bottom: 18px;
  }

  .controls {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 18px;
    margin-top: 20px;
  }

  .control-group {
    background: #fafafa;
    border: 1px solid #e7e7e7;
    padding: 10px 14px;
    border-radius: 10px;
  }

  label {
    font-size: 14px;
    font-weight: 600;
  }

  .explain {
    font-size: 11px;
    color: #777;
    margin-top: 3px;
  }

  input, select {
    margin-top: 6px;
    padding: 6px 8px;
    width: 100%;
    border: 1px solid #ccc;
    border-radius: 6px;
  }

  button {
    padding: 10px 18px;
    margin-right: 10px;
    border: none;
    border-radius: 8px;
    background: #007aff;
    color: white;
    cursor: pointer;
    font-size: 14px;
    font-weight: 600;
  }

  button:disabled {
    opacity: 0.4;
    cursor: default;
  }

  .stats {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin-top: 16px;
    font-size: 14px;
  }

  #cycleLink {
    margin-top: 14px;
    font-size: 14px;
    color: #0077cc;
    word-break: break-all;
    font-weight: 600;
  }

  iframe {
    width: 100%;
    height: 480px;
    border: none;
    border-radius: 10px;
    margin-top: 8px;
    background: black;
  }

  .log {
    margin-top: 20px;
    background: #111;
    color: #0f0;
    font-family: monospace;
    padding: 12px;
    border-radius: 10px;
    height: 220px;
    overflow-y: auto;
    font-size: 12px;
  }

  @media(max-width: 700px){
    iframe { height: 260px; }
  }
</style>
</head>

<body>
<div class="container">

<img id="titleImage" src="IMG_9137.png" alt="YouGenerator">

<div id="description">
This tool is a fully random YouTube video generator that rapidly scans randomly generated video IDs until it discovers a real, valid YouTube video. It uses strict multi-step validation to eliminate false positives, ensuring that only genuine videos make it through. While searching, it launches multiple asynchronous workers to maximize speed and efficiency, all while displaying real-time statistics such as total attempts, elapsed time, attempts per second, and active workers. Users can adjust concurrency, timeouts, and attempt limits, each supported by clear explanations that describe how these variables affect performance. Once a valid video is found, the tool automatically previews it in an embedded player and logs the process, creating an interactive and transparent experience while diving into the vast randomness of YouTube’s ID space.
</div>

<div class="controls">

  <div class="control-group">
    <label>Concurrency</label>
    <input id="concurrency" type="number" min="1" max="50" value="">
    <div class="explain">How many checks run at once. Higher = faster but more CPU load. Recommended: 6–16.</div>
  </div>

  <div class="control-group">
    <label>Max Attempts (0 = infinite)</label>
    <input id="maxAttempts" type="number" value="0">
    <div class="explain">Stops automatically after N attempts. Leave at 0 for unlimited searching.</div>
  </div>

  <div class="control-group">
    <label>Per-Request Timeout (ms)</label>
    <input id="timeoutMs" type="number" value="4000">
    <div class="explain">If the validation check takes longer than this, it gets ignored.</div>
  </div>

  <div class="control-group">
    <label>Log Level</label>
    <select id="logLevel">
      <option value="info">info</option>
      <option value="verbose">verbose</option>
      <option value="silent">silent</option>
    </select>
    <div class="explain">Verbose shows every failed ID. Silent shows only final result.</div>
  </div>

</div>

<br>

<button id="startBtn">Start</button>
<button id="stopBtn" disabled>Stop</button>

<div class="stats">
  <div>Tested: <b id="tested">0</b></div>
  <div>Elapsed: <b id="elapsed">0</b>s</div>
  <div>Rate: <b id="rate">0</b>/sec</div>
  <div>Workers: <b id="workers">0</b></div>
  <div>Found: <b id="foundStatus">No</b></div>
</div>

<!-- NEW: live cycling preview -->
<div id="cycleLink">URL Preview: —</div>

<div id="player"></div>

<div class="log" id="log"></div>

<script>
/* strict validation */
const CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";
function randomID(){let s="";for(let i=0;i<11;i++) s+=CHARS[(Math.random()*64)|0];return s;}

async function timeoutFetch(url,ms){
  return Promise.race([
    fetch(url),
    new Promise((_,rej)=>setTimeout(()=>rej("timeout"),ms))
  ]);
}

async function checkInfo(id,timeout){
  try{
    const r=await timeoutFetch(
      `https://www.youtube.com/get_video_info?video_id=${id}&el=embedded&hl=en`,
      timeout
    );
    if(!r.ok) return false;
    const t=await r.text();
    return t.includes("status=ok") || t.includes("playable_in_embed");
  }catch(e){return false;}
}

async function verifyVideo(id,timeout){ return await checkInfo(id,timeout); }

/* Search engine */
let run=false, tested=0, startTime=0, workers=0, found=false;
let concurrency=8, maxAttempts=0, timeoutMs=4000;

const logBox=document.getElementById("log");
function log(msg){
  if(document.getElementById("logLevel").value==="silent") return;
  logBox.innerHTML=msg+"<br>"+logBox.innerHTML;
}

function updateStats(){
  document.getElementById("tested").textContent=tested;
  const t=(performance.now()-startTime)/1000;
  document.getElementById("elapsed").textContent=t.toFixed(1);
  document.getElementById("rate").textContent=(tested/t).toFixed(1);
  document.getElementById("workers").textContent=workers;
  document.getElementById("foundStatus").textContent=found?"Yes":"No";
}

function showVideo(id){
  document.getElementById("player").innerHTML=
    `<iframe src="https://www.youtube.com/embed/${id}?autoplay=1"></iframe>`;
}

async function worker(){
  workers++;
  updateStats();

  while(run && !found){
    if(maxAttempts>0 && tested>=maxAttempts){run=false; break;}
    const id=randomID();
    const url=`https://youtube.com/watch?v=${id}`;

    /* LIVE CYCLING PREVIEW */
    document.getElementById("cycleLink").textContent = "URL Preview: " + url;

    tested++;
    const ok = await verifyVideo(id, timeoutMs);
    if(ok){
      found=true;
      run=false;
      showVideo(id);
      log("FOUND → "+id);
      break;
    }
  }

  workers--;
  updateStats();
}

async function start(){
  if(run) return;
  run=true;
  found=false;
  tested=0;

  concurrency=parseInt(document.getElementById("concurrency").value);
  maxAttempts=parseInt(document.getElementById("maxAttempts").value);
  timeoutMs=parseInt(document.getElementById("timeoutMs").value);

  startTime=performance.now();
  logBox.innerHTML="";
  document.getElementById("player").innerHTML="";

  document.getElementById("startBtn").disabled=true;
  document.getElementById("stopBtn").disabled=false;

  for(let i=0;i<concurrency;i++) worker();

  const timer=setInterval(()=>{
    updateStats();
    if(!run){
      clearInterval(timer);
      document.getElementById("startBtn").disabled=false;
      document.getElementById("stopBtn").disabled=true;
    }
  },200);
}

function stop(){run=false;}

document.getElementById("startBtn").onclick=start;
document.getElementById("stopBtn").onclick=stop;

document.getElementById("concurrency").value =
  navigator.hardwareConcurrency ? Math.min(16, navigator.hardwareConcurrency) : 8;

</script>

</div>
</body>
</html>
